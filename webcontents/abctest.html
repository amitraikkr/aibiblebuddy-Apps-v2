<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>API Test</title>
    <script>
        async function callApi() {
            const apiKey = 'aw1tra1m0s3sra1m33nura1'; // Your API key here
            //const apiEndpoint = 'https://csy5vv1qtb.execute-api.us-east-2.amazonaws.com/prod/user';
            const apiEndpoint = 'https://err2fhihrb.execute-api.us-east-2.amazonaws.com/prod/user'
            //const apiEndpoint = 'https://irumy9jh11.execute-api.us-east-2.amazonaws.com/prod/user'

            const requestBody = {
                username: 'amitrai2012',
                email: 'exampleUser2112@example.com'
            };

            try {
                const response = await fetch(apiEndpoint, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'x-api-key': apiKey,
                    },
                    body: JSON.stringify(requestBody)
                });

                if (!response.ok) {
                    throw new Error('Network response was not ok: ' + response.statusText);
                }
                
                const data = await response.json();
                console.log('User Data:', data);
                alert('API call successful: ' + JSON.stringify(data));
            } catch (error) {
                console.error('There was a problem with the fetch operation:', error);
                alert('API call failed: ' + error.message);
            }
        }
    </script>
</head>
<body>
    <button onclick="callApi()">Call API</button>
</body>
</html>